Project online_store {
  database_type: 'multi database'
  Note: 'Schema of each database'
}

Table customers {
  id int [primary key]
  name varchar
  email varchar
  active_cart_id int [note: 'user can have multiple carts and this is the active one']
}

Table orders_metadata {
  id int [primary key]
  customers_id int 
  purchase_date date 
  status order_status
  total_price float
  indexes {
    (customers_id, purchase_date) [note: 'allows for date pagination for each user']
  }
}

Table orders_products {
  order_id int [primary key]
  product_id int [primary key]
  color_id int [primary key]
  size_id int [primary key]
  unit_price float [note: 'includes sale reduction to allow easy order quantity edits without cancellation of order']
  quantity int

}

Table users_carts {
  customers_id int [primary key]
  cart_id int [primary key]
  cart_name varchar
}

Table carts_products {
  id int [primary key]
  product_id int [primary key]
  color_id int [primary key]
  size_id int [primary key]
  quantity int

}

Table tags {
  id int [primary key]
  name varchar
}

Table products_tags {
  product_id int [primary key]
  tag_id int [primary key]
}


Table products_metadata {
  id int [primary key]
  archived bool [note: 'if false product is archived']
  name varchar
  description varchar
  default_price float [note: 'used if product"s color-size price excluded']
  date_added timestamp
  purchases int
}

Table products_compositions {
  product_id int [primary key]
  material material [primary key]
  percent float
  decription varchar [note: 'optional, states where the material is located']
}

Table products {
  product_id int [primary key]
  color color [primary key]
  size size [primary key]
  price float
  sale_reduction float
  purchases int
  quantity int
}

Table brands {
  id int [primary key]
  name varchar
}

Table products_care_instructions {
  product_id int [primary key]
  instruction product_instructions [primary key]
  indexes {
    product_id
  }
}

Table products_brands {
  product_id int [primary key]
  brand_id int [primary key]
}

Table products_images {
  id int [primary key]
  color color [primary key]
  screen screen [primary key]
  use use [primary key]  
  image blob

}

//can combine with products_image but must becareful for clashing ids
Table tags_images {
  id int [primary key]
  screen screen [primary key]
  use use [primary key]
  image blob
}

//can combine with products_image but must becareful for clashing ids
Table brands_images {
  id int [primary key]
  screen screen [primary key]
  use use [primary key]
  image blob
}





ref: customers.id < orders_metadata.customers_id
ref: customers.id < users_carts.customers_id
ref: customers.active_cart_id < carts_products.id
ref: customers.active_cart_id - users_carts.cart_id
ref: orders_metadata.id < orders_products.order_id
ref: carts_products.id > users_carts.cart_id
ref: products_metadata.id < orders_products.product_id
ref: products_metadata.id < carts_products.product_id
ref: products_metadata.id < products.product_id
ref: products_metadata.id < products_compositions.product_id
ref: products_metadata.id < products_care_instructions.product_id
ref: products_metadata.id < products_images.id
ref: products_metadata.id < products_brands.product_id
ref: products_tags.product_id > products_metadata.id
ref: tags.id < products_tags.tag_id
ref: tags.id < tags_images.id
ref: brands.id < brands_images.id
ref: brands.id < products_brands.brand_id